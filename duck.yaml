---
build_sources:
  - url: "http://www.emdebian.org/grip"
    suite: squeeze
    components:
      - main
  - url: "http://ftp.se.debian.org/debian"
    suite: squeeze
    components:
      - main

packages:
  - binutils
  - python-argparse
  - python
  - grub2
  - iproute
  - isc-dhcp-client
  - net-tools
  - openssh-server
  - pciutils
  - psutils
  - syslog-ng
  - udev
  - vim-tiny

files:
# init file
  - from: /*
    to: /
# configuration files
  - from: /etc/*
    to: /etc/
  - from: /etc/network/*
    to: /etc/network/
# installer library
  - from: /lib/libduck.sh
    to: /lib/
# duck applications
  - from: /sbin/*
    to: /sbin/
    mode: 0755
# installation steps
  - from: /lib/duck.d/*
    to: /lib/duck.d/
    mode: 0755

fixes:
  # file contains scripts that should be run to fix the target environment.
  # scripts are located under <out>/fixes
  - squeeze-fix
  # disable initrd generation and grub setup for installed kernels.
  - kernel-boot-fix

services:
  - name: hostname.sh
    start: '00 S'
  - name: mountkernfs.sh
    start: '00 S'
  - name: mountdevsubfs.sh
    start: '00 S'
  - name: udev
    start: '00 S'
  - name: syslog-ng
    start: '00 2'
    stop: '00 0 6'
