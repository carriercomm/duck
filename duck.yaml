---
build_sources:
  - url: "http://www.emdebian.org/grip"
    suite: squeeze
    components:
      - main
  - url: "http://ftp.se.debian.org/debian"
    suite: squeeze
    components:
      - main

packages:
  - binutils
  - python-argparse
  - python
  - grub2
  - iproute
  - bind9-host
  - isc-dhcp-client
  - net-tools
  - openssh-server
  - pciutils
  - psutils
  - syslog-ng
  - udev
  - vim-tiny

files:
# init file
  - from: /*
    to: /
# configuration files
  - from: /etc/*
    to: /etc/
  - from: /etc/network/*
    to: /etc/network/
  - from: /etc/dhclient-exit-hooks.d/*
    to: /etc/dhcp/dhclient-exit-hooks.d/
    mode: 0755
# installer library
  - from: /lib/libduck.sh
    to: /lib/
# duck applications
  - from: /sbin/*
    to: /sbin/
    mode: 0755
# installation steps
  - from: /lib/duck.d/*
    to: /lib/duck.d/
    mode: 0755

fixes:
  # file contains scripts that should be run to fix the target environment.
  # scripts are located under <out>/fixes
  - squeeze-fix
  # disable initrd generation and grub setup for installed kernels.
  - kernel-boot-fix
  # remove persistent udev rules.
  - clear-persistent-udev

services:
  - name: hostname.sh
    start: '00 S'
  - name: mountkernfs.sh
    start: '00 S'
  - name: mountdevsubfs.sh
    start: '00 S'
  - name: udev
    start: '00 S'
  - name: syslog-ng
    start: '00 2 3 4 5'
    stop: '00 0 1 6'

keyring:
  keyserver: "subkeys.pgp.net"
  keys:
# debian archive keys
    - "473041FA"
    - "B98321F9"
# puppetlabs
    - "4BD6EC30"
# other debian keys for older archives
    - "30E974EE"
    - "46925553"
    - "55BE302B"
    - "65FFB764"
    - "6D849617"
    - "97BB3B58"
